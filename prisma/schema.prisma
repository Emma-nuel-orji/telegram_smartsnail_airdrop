generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Book {
  id          String   @id @map("_id")
  author      String
  coinsReward BigInt
  createdAt   DateTime @db.Date
  description String
  priceCard   Float
  priceStars  BigInt
  priceTon    Float
  stockLimit  BigInt
  tappingRate BigInt
  title       String
  usedStock   BigInt
}

model CompletedTask {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model GeneratedCode {
  id         String   @id @default(auto()) @map("_id") @db.ObjectId
  batchId    String
  bookId     String
  code       String   @unique
  createdAt  DateTime @db.Date
  isRedeemed Boolean
}

model Order {
  id      String @id @default(auto()) @map("_id") @db.ObjectId
  /// Field referred in an index, but found no data to define the type.
  orderId Json?  @unique
}

model PendingTransaction {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model Purchase {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model Referral {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model StoryShare {
  id         String @id @default(auto()) @map("_id") @db.ObjectId
  /// Field referred in an index, but found no data to define the type.
  trackingId Json?  @unique
}

model Task {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}

model User {
  id                String   @id @default(auto()) @map("_id") @db.ObjectId
  createdAt         DateTime @db.Date
  email             String?
  firstName         String
  hasClaimedWelcome Boolean
  lastName          String?
  nft               Boolean
  points            BigInt
  tappingRate       BigInt
  telegramId        BigInt   @unique
  updatedAt         DateTime @db.Date
  username          String?

  @@index([points], map: "points_asc_index")
}

model smartsnailcollection {
  id String @id @default(auto()) @map("_id") @db.ObjectId
}
